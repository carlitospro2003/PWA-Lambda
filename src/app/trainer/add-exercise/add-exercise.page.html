<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button (click)="cancel()"></ion-back-button>
    </ion-buttons>
    <ion-title>Agregar Ejercicio</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="saveExercise()" [disabled]="!isFormValid()">
        <ion-icon name="save-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="exercise-form-content">
  <div class="form-container">
    
    <!-- Información de la Sala -->
    <ion-card class="room-info-card">
      <ion-card-content>
        <div class="room-header">
          <ion-icon name="fitness-outline" class="room-icon"></ion-icon>
          <div>
            <h3>{{ roomName }}</h3>
            <p>Agregar nuevo ejercicio</p>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Formulario -->
    <ion-card class="form-card">
      <ion-card-content>
        
        <!-- Campo Obligatorio -->
        <div class="form-section">
          <h4>Información del Ejercicio</h4>
          
          <ion-item>
            <ion-label position="stacked">Título del Ejercicio *</ion-label>
            <ion-input 
              [(ngModel)]="exerciseForm.EXC_Title" 
              placeholder="Ej: Flexiones de pecho"
              maxlength="255"
              required>
            </ion-input>
          </ion-item>
        </div>

        <!-- Campos Opcionales -->
        <div class="form-section">
          <h4>Detalles Opcionales</h4>
          
          <ion-item>
            <ion-label position="stacked">Tipo de Ejercicio</ion-label>
            <ion-select 
              [(ngModel)]="exerciseForm.EXC_Type" 
              placeholder="Selecciona el tipo (opcional)"
              interface="popover">
              <ion-select-option *ngFor="let type of exerciseTypes" [value]="type.value">
                {{ type.label }}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Nivel de Dificultad</ion-label>
            <ion-select 
              [(ngModel)]="exerciseForm.EXC_DifficultyLevel" 
              placeholder="Selecciona la dificultad (opcional)"
              interface="popover">
              <ion-select-option *ngFor="let difficulty of difficultyLevels" [value]="difficulty.value">
                {{ difficulty.label }}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Instrucciones del Ejercicio</ion-label>
            <ion-textarea 
              [(ngModel)]="exerciseForm.EXC_Instructions" 
              placeholder="Describe las instrucciones del ejercicio (opcional)"
              rows="4">
            </ion-textarea>
          </ion-item>
        </div>

      </ion-card-content>
    </ion-card>

    <!-- Botones de acción -->
    <div class="action-buttons">
      <ion-button 
        expand="block" 
        fill="clear" 
        color="medium"
        (click)="cancel()">
        Cancelar
      </ion-button>
      
      <ion-button 
        expand="block" 
        [disabled]="!isFormValid()"
        (click)="saveExercise()">
        Guardar Ejercicio
      </ion-button>
    </div>

  </div>
</ion-content>